{% extends "page.twig" %}

{% block page_content %}
  {% embed "partials/section.twig" %}
    {% block title %}
      Our Philosophy
    {% endblock %}

    {% block text %}
      {{ post.get_field("philosophy_section_text") }}
    {% endblock %}
  {% endembed %}

  {% embed "partials/section.twig" with { section_classes: "py-3 bg-teal-lightest" } %}
    {% block title %}
      Projects by Young Makers
    {% endblock %}

    {% block text %}
      <div class="mb-4">
        {{ post.get_field("tools_description") }}
      </div>
    {% endblock %}

    {% block extra %}
      <div class="flex flex-wrap -m-2">
        {% for project in post.get_field("projects") %}
          <div class="w-full md:flex-1 m-2">
            {% include "partials/card-project.twig" with {
              title: project.project_name,
              link: project.project_link,
              text: project.project_summary,
              image_src: TimberImage(project.project_image).src("large")
            } only %}
          </div>
        {% endfor %}
      </div>
    {% endblock %}
  {% endembed %}
  </div>

  {% embed "partials/section.twig" %}
    {% block title %}
      Our Tools
    {% endblock %}

    {% block text %}
      <div class="mb-4">
        {{ post.get_field("tools_description") }}
      </div>

      <a class="Block Block--light" href="{{ site.link }}/tools/">See all of our tools</a>
    {% endblock %}

    {% block extra %}
      <nav>
        <ul class="flex flex-wrap -m-2">
          {% for tool in tools %}
            <li class="w-full md:flex-1 m-2">
              {% set tool_locations_text = tool.locations|length ~ " location" %}
              {% if tool.locations|length != 1 %}
                {% set tool_locations_text = tool_locations_text ~ "s" %}
              {% endif %}

              {% set tool_events_text = tool.events|length ~ " event" %}
              {% if tool.events|length != 1 %}
                {% set tool_events_text = tool_events_text ~ "s" %}
              {% endif %}

              {% include "partials/card.twig" with {
                title: tool.title,
                link: tool.link,
                primary_pictogram: ",",
                primary_text: tool_locations_text,
                secondary_pictogram: "{",
                secondary_text: tool_events_text,
                image_src: TimberImage(tool.get_field("image")).src("large")
              } only %}
            </li>
          {% endfor %}
        </ul>
      </nav>
    {% endblock %}
  {% endembed %}

  {% embed "partials/section.twig" %}
    {% block title %}
      Badging
    {% endblock %}

    {% block text %}
      <div class="mb-4">
        {{ post.get_field("badging_description") }}
      </div>

      <a class="Block Block--light" href="{{ site.link }}/badges/">Read more about badging</a>
    {% endblock %}
  {% endembed %}
{% endblock %}
